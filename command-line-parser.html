<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Command Line Parser</title>
    <meta name="description" content="Programming practice projects designed to take your Python coding chops to the next level">
    <meta name="author" content="Louie Dinh">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://pythonpracticeprojects.com/theme/html5.js"></script>
    <![endif]-->

    <!-- start Mixpanel -->
    <script type="text/javascript">
        (function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f)}})(document,window.mixpanel||[]);
        mixpanel.init("f648b3a9798e7c489b48fb616f33abfe");

        mixpanel.track("Page Visit!");
    </script>
    <!-- end Mixpanel -->

    <!-- Start SumoMe -->
    <script src="//load.sumome.com/" data-sumo-site-id="3985b6f2e1d26b66de9bd40994b14446ac22d852d057002541f559342aecd669" async></script>
    <!-- End SumoMe -->

    <!-- Le styles -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
    <link href="http://pythonpracticeprojects.com/theme/local.css" rel="stylesheet">
    <link href="http://pythonpracticeprojects.com/theme/pygments.css" rel="stylesheet">
    <link href="http://pythonpracticeprojects.com/theme/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Gudea:400,400italic|Alegreya+SC' rel='stylesheet' type='text/css'>
</head>

<body>
<header class="blog-header">
  <div class="container">
    <div class="row-fluid">
      <div class="span8">
	<a href="http://pythonpracticeprojects.com" class="brand">Python Practice Projects</a>
      </div>

      <div class="span4" id="blog-nav">
	<ul class="nav nav-pills pull-right">

        <li><a href="http://discourse.pythonpracticeprojects.com">Discussion</a></li>
       <li><a href="https://gumroad.com/l/cSIzC">Buy eBook</a></li>
       <li><a href="http://pythonpracticeprojects.com">Projects</a></li>
	    <li  class="active" >
	      <a href="http://pythonpracticeprojects.com/category/.html "></a>
        </li>
	    <li >
	      <a href="http://pythonpracticeprojects.com/category/blog.html ">Blog</a>
        </li>
	</ul>
      </div>
    </div> <!-- End of fluid row-->
  </div>   <!-- End of Container-->
</header>
    
<div class="container">
    <div class="content">
    <div class="row-fluid">

        <div class="span10">
<section id="content" class="body span10 page">
    <h1>Command Line Parser</h1>
<h2>Motivation</h2>
<p>Mastery of the command line is prerequisite to effective computer use. Unix allows you to pipe data between
small programs that do one job well. However, almost all command line applications need a little direction
to be of use. Each program can be thought of as a mini-language that allows you to transform text data
in various ways.</p>
<p>If you've written any command line application at all, you've probably used a library like argparse to
read in arguments to your program. Let's explore how command line parsers work and try to write one ourselves.</p>
<h2>Problem Statement</h2>
<p>A command line parser takes a string and interprets it as a series of positional (required) arguments and options. An argument is
the input to the program. For example, the sort command takes in as an argument the name of a file and 
outputs the lines in sorted alphabetical order. Here example_file is the argument</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">cat</span> <span class="n">example_file</span>
<span class="n">one</span>
<span class="n">two</span>
<span class="n">three</span>
<span class="err">$</span> <span class="n">sort</span> <span class="n">example_file</span>
<span class="n">one</span>
<span class="n">three</span>
<span class="n">two</span>
</pre></div>


<p>In addition, the sort command takes a number options also known as flags that modify the operation
of the program. For example, if I ran the sort command with the -r flag, the sort ordering is reversed.</p>
<p>Options have two forms, long and short. Short forms are a single letter, like -r. The long forms
are indicated by a double dash and then the full word, like --reversed.</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="n">example_file</span>
<span class="n">two</span>
<span class="n">three</span>
<span class="n">one</span>
</pre></div>


<p>Some options take arguments. This is specified in the short form by immediately following
the short form flag with a value (space optional). The long form is specified by a double dash
followed by an equal sign.</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">o</span> <span class="n">out_file</span> <span class="n">example_file</span>            <span class="err">#</span> <span class="n">Writes</span> <span class="n">the</span> <span class="n">line</span> <span class="n">sorted</span> <span class="n">contents</span> <span class="n">to</span> <span class="n">out_file</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">oout_file</span> <span class="n">example_file</span>             <span class="err">#</span> <span class="n">Same</span> <span class="n">as</span> <span class="n">above</span>
<span class="err">$</span> <span class="n">sort</span> <span class="o">--</span><span class="n">output</span><span class="o">=</span><span class="n">out_file</span> <span class="n">example_file</span>      <span class="err">#</span> <span class="n">Same</span> <span class="n">as</span> <span class="n">above</span>
</pre></div>


<p>We can combine different options but the required arguments must always be supplied.</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">sort</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">o</span> <span class="n">out_file</span> <span class="n">example_file</span>         <span class="err">#</span> <span class="n">Writes</span> <span class="n">the</span> <span class="n">contents</span> <span class="n">of</span> <span class="n">example_file</span><span class="p">,</span> <span class="n">sorted</span> <span class="n">in</span> <span class="n">reverse</span> <span class="n">order</span><span class="p">,</span> <span class="n">to</span> <span class="n">out_file</span>
</pre></div>


<p>Write a command line parser that allows users to specify the interface described above. 
Users should be able to specify:</p>
<ul>
<li>Required arguments</li>
<li>Options - with long and/or short aliases and whether or not they take an argument</li>
</ul>
<p>Then given a string, return the positional parameters, optional parameters and their values if any.</p>
<h2>References</h2>
<ul>
<li><a href="http://docs.python.org/2/library/optparse.html">optparse</a> - Python Standard Library</li>
<li><a href="http://docs.python.org/2.7/library/argparse.html">argparse</a> - Python Standard Library</li>
<li><a href="http://plac.googlecode.com/hg/doc/plac.html">plac</a> - Michelle Simionato</li>
<li><a href="https://github.com/kennethreitz/args">args</a> - Kenneth Reitz</li>
<li><a href="http://www.tornadoweb.org/en/stable/">tornado.options</a> - Facebook</li>
</ul>

    <!-- Begin MailChimp Signup Form --> 
    <div id="mc_embed_signup">
    <form action="http://ldinh.us7.list-manage1.com/subscribe/post?u=8ca0c45c82ef713b79a588f83&amp;id=4de59dd00f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <h3>Subscribe to Python Practice Projects</h3>
        Don't want to miss out on project kit releases? Enter your email below to join our growing list of Python Practitioners.
        <div class="mc-field-group">
            <label for="mce-EMAIL">Email Address</label>
            <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
        </div>
        <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
        </div>  <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </form>
    </div>
    <!--End mc_embed_signup-->

</section>
        </div>
        
        
    </div>     </div> </div>

<!--footer-->
<div class="container">
  <div class="well" style="background-color: #E9EFF6">
    <div id="blog-footer">
      <div class="row-fluid">
	<div class="social span2" align="center" id="socialist">
	  <ul class="nav nav-list">
	    <li class="nav-header">
	      Social
	    </li>
	    <li><a href="http://twitter.com/louiedinh"><i class="icon-twitter" style="color: #1f334b"></i>twitter</a></li>
	    <li><a href="http://www.linkedin.com/profile/view?id=103017614"><i class="icon-linkedin" style="color: #1f334b"></i>linkedin</a></li>

	  </ul>
	</div>
        <div class="links span2" align="center">
          <ul class="nav nav-list">
            <li class="nav-header"> 
              Links
            </li>
            
            <li><a href="http://jessenoller.com/good-to-great-python-reads/">Good to Great</a></li>
            <li><a href="http://gnosis.cx/publish/tech_index_cp.html">Charming Python</a></li>
            <li><a href="http://www.python.org/dev/peps/pep-0008/">PEP8</a></li>
            <li><a href="http://docs.python-guide.org/en/latest/">Hitchhiker's Guide</a></li>
            <li><a href="http://www.pythonweekly.com/">Python Weekly</a></li>
          </ul>
        </div>
	<div class="site-nav span2" align="center">
          <ul class="nav nav-list" id="site-links">
            <li class="nav-header"> 
              Site
            </li>
            <li><a href="http://pythonpracticeprojects.com"><i class="icon-home" style="color: #1f334b">
                </i>Home</a></li>
            <li><a href="http://pythonpracticeprojects.com/archives.html"><i class="icon-list" style="color: #1f334b">
                </i>Archives</a></li>
	    <li><a href="http://pythonpracticeprojects.com/tags.html"><i class="icon-tags" style="color: #1f334b">
                </i>Tags</a></li>
	    
	  </ul>

        </div>

      </div> <!--end of fluid row-->
    </div> <!--end of blog-footer-->
    <hr />
    <p align="center"><a href="http://pythonpracticeprojects.com">Python Practice Projects</a>
      &copy; Louie Dinh
    Powered by <a href="github.com/getpelican/pelican">Pelican</a> and
        <a href="https://twitter.github.com/bootstrap">Twitter Bootstrap</a>. 
        Icons by <a href="http://fortawesome.github.com/Font-Awesome">Font Awesome</a> and 
        <a href="http://gregoryloucas.github.com/Font-Awesome-More">Font Awesome More</a></p>

  </div> <!--end of well -->
</div> <!--end of container -->

<!--/footer-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>


<script>var _gaq=[['_setAccount','UA-39716444-2'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>

</body>
</html>